<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprPlayerDown</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>view_wview[0] = 32*global.viewableGrids;
view_hview[0] = (view_wview[0]*10)/16;
//sprite_index = sprPerson
image_speed = 0.75;
global.playerSpeed = global.origPlayerSpeed;


isSlow = false;

inventory = ds_list_create();
ds_list_add(inventory," ");
ds_list_add(inventory," ");
ds_list_add(inventory," ");

tmrAngerToggleCooldown = -1;
tmrAngerCooldown = -1;

tmrLazyToggleCooldown = -1;
tmrLazyCooldown = -1;

tmrExciteToggleCooldown = -1;
tmrExciteCooldown = -1;
//emotion toggles
isAngry = false;
isLazy = false;
isExcited = false;

pickupKey[0] = 'A';
pickupKey[1] = 'S';
pickupKey[2] = 'D';
powerKey[0] = 'Z';
powerKey[1] = 'X';
powerKey[2] = 'C';
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(room != rmMenu){
view_xview[0] = x-view_wview[0]/2;
view_yview[0] = y-view_hview[0]/2;

//view_xview[0] = max(0,view_xview[0]);
//view_yview[0] = max(0,view_yview[0]);
//view_xview[0] = min(room_width-view_wview[0],view_xview[0]);
//view_yview[0] = min(room_height-view_hview[0],view_yview[0]);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if speed &gt; 0 //if moving
{

    //if( (x-sprite_width/2) mod global.gridSize == 0 &amp;&amp; (y-sprite_height/2) mod global.gridSize == 0){
    if( (x-global.gridSize/2) mod global.gridSize == 0 &amp;&amp; (y-global.gridSize/2) mod global.gridSize == 0){
    
        vspeed = 0;
        hspeed = 0;
        
    } 

}
else //if not moving, allow keyboard presses
{
    if (place_meeting(x,y,objSlow) ) {
        if(!isSlow){
            isSlow = true;
            global.playerSpeed /= 4;
        }
    } else {
        if(isSlow){
            isSlow = false;
            global.playerSpeed *= 4;
        }
    }
    if (keyboard_check(vk_up) &amp;&amp; !place_meeting(x,y-global.gridSize,objWall) &amp;&amp; y-global.gridSize &gt; 0){
        vspeed = -global.playerSpeed;
        sprite_index = sprPlayerUp;
    } else if (keyboard_check(vk_down) &amp;&amp; !place_meeting(x,y+global.gridSize,objWall) &amp;&amp; y+global.gridSize &lt; room_height){
        vspeed =  global.playerSpeed;
        sprite_index = sprPlayerDown;
    } else if (keyboard_check(vk_left) &amp;&amp; !place_meeting(x-global.gridSize,y,objWall) &amp;&amp; x-global.gridSize &gt; 0 ){
        hspeed = -global.playerSpeed;
        sprite_index = sprPlayerLeft;
    } else if (keyboard_check(vk_right) &amp;&amp; !place_meeting(x+global.gridSize,y,objWall) &amp;&amp; x+global.gridSize &lt; room_width){
        hspeed =  global.playerSpeed;
        sprite_index = sprPlayerRight;
    }else{
        if(place_meeting(x,y,objSlideUp)){
            vspeed = -global.playerSpeed*2;
        } else if(place_meeting(x,y,objSlideDown)){
            vspeed = global.playerSpeed*2;
        } else if(place_meeting(x,y,objSlideLeft)){
            hspeed = -global.playerSpeed*2;
        } else if(place_meeting(x,y,objSlideRight)){
            hspeed = global.playerSpeed*2;
        }
    }

}

if (keyboard_check(ord(powerKey[0]))){
    performEmotion(ds_list_find_value(inventory,0));
} else if (keyboard_check(ord(powerKey[1]))){
    performEmotion(ds_list_find_value(inventory,1));
} else if (keyboard_check(ord(powerKey[2]))){
    performEmotion(ds_list_find_value(inventory,2));
}

var i;
for(i=0;i&lt;3;i+=1){
    if(keyboard_check_pressed(ord(pickupKey[i]))){
        var pickup = instance_place(x,y,objCollidable);
        if(instance_exists(pickup)){
            if(pickup.isEmotion) {
                var drop = ds_list_find_value(inventory,i);
                ds_list_replace(inventory,i,pickup.emote);
                if(dropEmote(drop)!=noone){
                    instance_create(x,y,dropEmote(drop));
                }
            }
        }
        with(pickup){instance_destroy();}
    }
}
/*if (keyboard_check_pressed(ord("A"))){
    var pickup = instance_place(x,y,objCollidable);
    if(instance_exists(pickup)){
        if(pickup.isEmotion) {
            var drop = ds_list_find_value(inventory,0);
            ds_list_replace(inventory,0,pickup.emote);
            if(dropEmote(drop)!=noone){
                instance_create(x,y,dropEmote(drop));
            }
        }
    }
    with(pickup){instance_destroy();}
} else if (keyboard_check_pressed(ord("S"))){
    var pickup = instance_place(x,y,objCollidable);
    if(instance_exists(pickup)){
        if(pickup.isEmotion) {
            var drop = ds_list_find_value(inventory,1);
            ds_list_replace(inventory,1,pickup.emote);
            if(dropEmote(drop)!=noone){
                instance_create(x,y,dropEmote(drop));
            }
        }
    }
    with(pickup){instance_destroy();}
} else if (keyboard_check_pressed(ord("D"))){
    var pickup = instance_place(x,y,objCollidable);
    if(pickup.isEmotion) {
        var drop = ds_list_find_value(inventory,2);
        ds_list_replace(inventory,2,pickup.emote);
        if(dropEmote(drop)!=noone){
            instance_create(x,y,dropEmote(drop));
        }
    }
    with(pickup){instance_destroy();}
}

*/

if(tmrAngerCooldown&gt;0){
    tmrAngerCooldown-=1;
}else if(tmrAngerCooldown ==0){
    tmrAngerCooldown = -1;
    isAngry = false;
    //execute any more specific events
}

if(tmrAngerToggleCooldown&gt;0){
    tmrAngerToggleCooldown-=1;
}else if(tmrAngerToggleCooldown ==0){
    tmrAngerToggleCooldown = -1;
    
    //execute any more specific events
}

if(tmrLazyToggleCooldown&gt;0){
    tmrLazyToggleCooldown-=1;
}else if(tmrLazyToggleCooldown ==0){
    tmrLazyToggleCooldown = -1;
    
    //execute any more specific events
}
if(tmrLazyCooldown&gt;0){
    tmrLazyCooldown-=1;
}else if(tmrLazyCooldown ==0){
    tmrLazyCooldown = -1;
    isLazy = false;
    room_speed *=global.lazyFactor;
    global.playerSpeed/=global.lazyFactor;
    //execute any more specific events
}

if(tmrExciteToggleCooldown&gt;0){
    tmrExciteToggleCooldown-=1;
}else if(tmrExciteToggleCooldown ==0){
    tmrExciteToggleCooldown = -1;
    
    //execute any more specific events
}
if(tmrExciteCooldown&gt;0){
    tmrExciteCooldown-=1;
}else if(tmrExciteCooldown ==0){
    tmrExciteCooldown = -1;
    isExcited = false;
    global.playerSpeed/=global.lazyFactor;
    //execute any more specific events
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objWall">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>speed = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(speed == 0){
    sprite_index= sprPlayerIdle;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ds_list_destroy(inventory);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(room != rmMenu){
var xOffset = 720;
var yOffset = 450;
draw_set_color(c_black);
draw_set_alpha(0.5);
draw_rectangle(xOffset+6,yOffset+9,xOffset+215,yOffset+75,false);
draw_set_alpha(1);
draw_set_color(c_white);
draw_rectangle(xOffset+6,yOffset+9,xOffset+215,yOffset+75,true);

draw_set_color(c_white);
draw_set_font(fntInventory);
draw_text(xOffset+10,yOffset+10,"INVENTORY");
draw_line(xOffset+6,yOffset+25,xOffset+135,yOffset+25);
for(i = 0; i&lt;ds_list_size(inventory); i+=1){
    var text = powerKey[i]+" ("+pickupKey[i]+"): " +ds_list_find_value(inventory,i);
    if(isAngry){
        if(ds_list_find_value(inventory,i) == "anger"){
            text += " ("+string(tmrAngerCooldown)+") ("+ string(tmrAngerToggleCooldown) + ")";
        }
    }
    if(isLazy){
        if(ds_list_find_value(inventory,i) == "laziness"){
            text += " ("+string(tmrLazyCooldown)+") ("+ string(tmrLazyToggleCooldown) + ")";
        }
    }
    if(isExcited){
        if(ds_list_find_value(inventory,i) == "excitement"){
            text += " ("+string(tmrExciteCooldown)+") ("+ string(tmrExciteToggleCooldown) + ")";
        }
    }
    draw_text(xOffset+10,yOffset+25+i*12,text);
}
}
/*draw_set_color(c_white);
if(isAngry){
    draw_text(135,25,"Anger; TimeLeft: " + string(tmrAngerCooldown) +" #Til Toggle: " + string(tmrAngerToggleCooldown));
}
if(isLazy){
    draw_text(135,25+12,"Lazy; TimeLeft: " + string(tmrLazyCooldown) +" #Til Toggle: " + string(tmrLazyToggleCooldown));
}
if(isExcited){
    draw_text(135,25+24,"Excitement; TimeLeft: " + string(tmrExciteCooldown) +" #Til Toggle: " + string(tmrExciteToggleCooldown));
}
*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();
//draw_text(x,y,instance_number(objPlayer));
draw_text(x,y,string(x) + " " + string(y));
draw_text(0,0,"origin");
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>        vspeed = 0;
        hspeed = 0;
        speed = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
