<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprPlayerForward</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-5</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>view_wview[0] = 32*global.viewableGrids;
view_hview[0] = (view_wview[0]*10)/16;
//sprite_index = sprPerson
image_speed = 0.75;
global.playerSpeed = global.origPlayerSpeed;


isSlow = false;

inventory = ds_list_create();
ds_list_add(inventory,"n");
ds_list_add(inventory,"n");
ds_list_add(inventory,"n");

tmrAngerToggleCooldown = -1;
tmrAngerCooldown = -1;

tmrLazyToggleCooldown = -1;
tmrLazyCooldown = -1;

tmrExciteToggleCooldown = -1;
tmrExciteCooldown = -1;
//emotion toggles
isAngry = false;
isLazy = false;
isExcited = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>view_xview[0] = x-view_wview[0]/2;
view_yview[0] = y-view_hview[0]/2;

view_xview[0] = max(0,view_xview[0]);
view_yview[0] = max(0,view_yview[0]);
view_xview[0] = min(room_width-view_wview[0],view_xview[0]);
view_yview[0] = min(room_height-view_hview[0],view_yview[0]);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if speed &gt; 0 //if moving
{

    //if( (x-sprite_width/2) mod global.gridSize == 0 &amp;&amp; (y-sprite_height/2) mod global.gridSize == 0){
    if( (x-global.gridSize/2) mod global.gridSize == 0 &amp;&amp; (y-global.gridSize/2) mod global.gridSize == 0){
    
        vspeed = 0;
        hspeed = 0;
        
    } 

}
else //if not moving, allow keyboard presses
{
    if (place_meeting(x,y,objSlow) ) {
        if(!isSlow){
            isSlow = true;
            global.playerSpeed /= 4;
        }
    } else {
        if(isSlow){
            isSlow = false;
            global.playerSpeed *= 4;
        }
    }
    if (keyboard_check(vk_up) &amp;&amp; !place_meeting(x,y-global.gridSize,objWall)){
        vspeed = -global.playerSpeed;
        sprite_index = sprPlayerForward;
    } else if (keyboard_check(vk_down) &amp;&amp; !place_meeting(x,y+global.gridSize,objWall)){
        vspeed =  global.playerSpeed;
        sprite_index = sprPlayerForward;
    } else if (keyboard_check(vk_left) &amp;&amp; !place_meeting(x-global.gridSize,y,objWall)){
        hspeed = -global.playerSpeed;
        sprite_index = sprPlayerLeft;
    } else if (keyboard_check(vk_right) &amp;&amp; !place_meeting(x+global.gridSize,y,objWall)){
        hspeed =  global.playerSpeed;
        sprite_index = sprPlayerRight;
    }else{
        if(place_meeting(x,y,objSlideUp)){
            vspeed = -global.playerSpeed*2;
        } else if(place_meeting(x,y,objSlideDown)){
            vspeed = global.playerSpeed*2;
        } else if(place_meeting(x,y,objSlideLeft)){
            hspeed = -global.playerSpeed*2;
        } else if(place_meeting(x,y,objSlideRight)){
            hspeed = global.playerSpeed*2;
        }
    }

}

if (keyboard_check(ord("Z"))){
    performEmotion(ds_list_find_value(inventory,0));
} else if (keyboard_check(ord("X"))){
    performEmotion(ds_list_find_value(inventory,1));
} else if (keyboard_check(ord("C"))){
    performEmotion(ds_list_find_value(inventory,2));
}
if (keyboard_check_pressed(ord("A"))){
    var pickup = instance_place(x,y,objCollidable);
    if(pickup.isEmotion) {
        var drop = ds_list_find_value(inventory,0);
        ds_list_replace(inventory,0,pickup.emote);
        if(dropEmote(drop)!=noone){
            instance_create(x,y,dropEmote(drop));
        }
    }
    with(pickup){instance_destroy();}
} else if (keyboard_check_pressed(ord("S"))){
    var pickup = instance_place(x,y,objCollidable);
    if(pickup.isEmotion) {
        var drop = ds_list_find_value(inventory,1);
        ds_list_replace(inventory,1,pickup.emote);
        if(dropEmote(drop)!=noone){
            instance_create(x,y,dropEmote(drop));
        }
    }
    with(pickup){instance_destroy();}
} else if (keyboard_check_pressed(ord("D"))){
    var pickup = instance_place(x,y,objCollidable);
    if(pickup.isEmotion) {
        var drop = ds_list_find_value(inventory,2);
        ds_list_replace(inventory,2,pickup.emote);
        if(dropEmote(drop)!=noone){
            instance_create(x,y,dropEmote(drop));
        }
    }
    with(pickup){instance_destroy();}
}



if(tmrAngerCooldown&gt;0){
    tmrAngerCooldown-=1;
}else if(tmrAngerCooldown ==0){
    tmrAngerCooldown = -1;
    isAngry = false;
    //execute any more specific events
}

if(tmrAngerToggleCooldown&gt;0){
    tmrAngerToggleCooldown-=1;
}else if(tmrAngerToggleCooldown ==0){
    tmrAngerToggleCooldown = -1;
    
    //execute any more specific events
}

if(tmrLazyToggleCooldown&gt;0){
    tmrLazyToggleCooldown-=1;
}else if(tmrLazyToggleCooldown ==0){
    tmrLazyToggleCooldown = -1;
    
    //execute any more specific events
}
if(tmrLazyCooldown&gt;0){
    tmrLazyCooldown-=1;
}else if(tmrLazyCooldown ==0){
    tmrLazyCooldown = -1;
    isLazy = false;
    room_speed *=global.lazyFactor;
    global.playerSpeed/=global.lazyFactor;
    //execute any more specific events
}

if(tmrExciteToggleCooldown&gt;0){
    tmrExciteToggleCooldown-=1;
}else if(tmrExciteToggleCooldown ==0){
    tmrExciteToggleCooldown = -1;
    
    //execute any more specific events
}
if(tmrExciteCooldown&gt;0){
    tmrExciteCooldown-=1;
}else if(tmrExciteCooldown ==0){
    tmrExciteCooldown = -1;
    isExcited = false;
    global.playerSpeed/=global.lazyFactor;
    //execute any more specific events
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objWall">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>speed = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>sprite_index= sprPlayerIdle;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ds_list_destroy(inventory);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_text(10,10,"Inventory");
for(i = 0; i&lt;ds_list_size(inventory); i+=1){
    draw_text(10,20+i*10,ds_list_find_value(inventory,i));
}
draw_set_color(c_red);
if(isAngry){
    draw_text(10,80,"Anger; TimeLeft: " + string(tmrAngerCooldown) +" #Til Toggle: " + string(tmrAngerToggleCooldown));
}
if(isLazy){
    draw_text(10,120,"Lazy; TimeLeft: " + string(tmrLazyCooldown) +" #Til Toggle: " + string(tmrLazyToggleCooldown));
}
if(isExcited){
    draw_text(10,120,"Excitement; TimeLeft: " + string(tmrExciteCooldown) +" #Til Toggle: " + string(tmrExciteToggleCooldown));
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>        vspeed = 0;
        hspeed = 0;
        speed = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
